<html>
<head>
<title>functions_news.php</title>
<meta name='robots' content='noindex,nofollow'>
<meta name='generator' content='GLOBAL-4.8.6'>
</head>
<body>
<a name='TOP'><h2><a href='../mains.html'>root</a>/functions_news.php</h2>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L11'>[^]</a><a href='#L257'>[v]</a>[top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
<hr>
<h2>DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href='#L11' title='Defined at 11.'>addNews</a>
<li><a href='#L29' title='Defined at 29.'>updateNews</a>
<li><a href='#L43' title='Defined at 43.'>removeNews</a>
<li><a href='#L52' title='Defined at 52.'>getAllNews</a>
<li><a href='#L66' title='Defined at 66.'>getPublishedNews</a>
<li><a href='#L83' title='Defined at 83.'>getUnpublishedNews</a>
<li><a href='#L99' title='Defined at 99.'>getNewsItem</a>
<li><a href='#L112' title='Defined at 112.'>showNewsArticle</a>
<li><a href='#L235' title='Defined at 235.'>showNews</a>
<li><a href='#L257' title='Defined at 257.'>showNewsOverview</a>
</ol>
<hr>
<pre>
<a name='L1'>   1 &lt;?
<a name='L2'>   2         <b>require_once</b>('atom_comments.php');              <i><font color='green'>//for news comment support</font></i>
<a name='L3'>   3         <b>require_once</b>('atom_categories.php');    <i><font color='green'>//for news categories support</font></i>
<a name='L4'>   4         <b>require_once</b>('atom_rating.php');                        <i><font color='green'>//for news rating support</font></i>
<a name='L5'>   5         <b>require_once</b>('atom_polls.php');                         <i><font color='green'>//for support of polls attached to news article</font></i>
<a name='L6'>   6 
<a name='L7'>   7         $<a href='../Y/146.html' title='Multiple used in 316 places.'>config</a>['news']['allowed_tabs'] = <b>array</b>('News', 'NewsEdit', 'NewsDelete', 'NewsCategories', 'NewsComment', 'NewsFiles', 'NewsPolls');
<a name='L8'>   8         $<a href='../Y/146.html' title='Multiple used in 316 places.'>config</a>['news']['allow_rating'] = <b>true</b>; <i><font color='green'>//allow users to rate articles</font></i>
<a name='L9'>   9         $<a href='../Y/146.html' title='Multiple used in 316 places.'>config</a>['news']['allow_polls'] = <b>true</b>;  <i><font color='green'>//allow polls to be attached to articles</font></i>
<a name='L10'>  10 
<a name='L11'>  11         <b>function</b> addNews($<a href='../Y/637.html' title='Multiple used in 22 places.'>title</a>, $<a href='../Y/46.html' title='Multiple used in 44 places.'>body</a>, $<a href='../Y/643.html' title='Multiple used in 5 places.'>topublish</a>, $<a href='../Y/549.html' title='Multiple used in 6 places.'>rss_enabled</a>, $<a href='../Y/57.html' title='Multiple used in 3 places.'>category_id</a> = 0)
<a name='L12'>  12         <font color='blue'>{</font>
<a name='L13'>  13                 <b>global</b> $<a href='../Y/173.html' title='Multiple used in 576 places.'>db</a>, $<a href='../Y/559.html' title='Multiple used in 322 places.'>session</a>;
<a name='L14'>  14 
<a name='L15'>  15                 <b>if</b> (!$<a href='../Y/559.html' title='Multiple used in 322 places.'>session</a>-&gt;<a href='../Y/278.html' title='Multiple used in 189 places.'>id</a> || !<a href='../Y/324.html' title='Multiple used in 225 places.'>is_numeric</a>($<a href='../Y/549.html' title='Multiple used in 6 places.'>rss_enabled</a>) || !<a href='../Y/324.html' title='Multiple used in 225 places.'>is_numeric</a>($<a href='../Y/57.html' title='Multiple used in 3 places.'>category_id</a>)) <b>return</b> <b>false</b>;
<a name='L16'>  16 
<a name='L17'>  17                 $<a href='../Y/505.html' title='Multiple used in 705 places.'>q</a> = 'SELECT newsId FROM tblNews WHERE title="'.$<a href='../Y/173.html' title='Multiple used in 576 places.'>db</a>-&gt;<a href='../D/86.html' title='Multiple defined in 4 places.'>escape</a>($<a href='../Y/637.html' title='Multiple used in 22 places.'>title</a>).'" AND body="'.$<a href='../Y/173.html' title='Multiple used in 576 places.'>db</a>-&gt;<a href='../D/86.html' title='Multiple defined in 4 places.'>escape</a>($<a href='../Y/46.html' title='Multiple used in 44 places.'>body</a>).'"';
<a name='L18'>  18                 <b>if</b> ($<a href='../Y/173.html' title='Multiple used in 576 places.'>db</a>-&gt;<a href='../D/204.html' title='Multiple defined in 4 places.'>getOneItem</a>($<a href='../Y/505.html' title='Multiple used in 705 places.'>q</a>)) <b>return</b> <b>false</b>;
<a name='L19'>  19 
<a name='L20'>  20                 $<a href='../Y/644.html' title='Multiple used in 3 places.'>topublish_time</a> = <a href='../Y/602.html' title='Multiple used in 5 places.'>strtotime</a>($<a href='../Y/643.html' title='Multiple used in 5 places.'>topublish</a>);
<a name='L21'>  21                 <b>if</b> ($<a href='../Y/644.html' title='Multiple used in 3 places.'>topublish_time</a> &lt; <a href='../Y/628.html' title='Multiple used in 13 places.'>time</a>()) $<a href='../Y/644.html' title='Multiple used in 3 places.'>topublish_time</a> = <a href='../Y/628.html' title='Multiple used in 13 places.'>time</a>();
<a name='L22'>  22 
<a name='L23'>  23                 $<a href='../Y/505.html' title='Multiple used in 705 places.'>q</a> = 'INSERT INTO tblNews SET title="'.$<a href='../Y/173.html' title='Multiple used in 576 places.'>db</a>-&gt;<a href='../D/86.html' title='Multiple defined in 4 places.'>escape</a>($<a href='../Y/637.html' title='Multiple used in 22 places.'>title</a>).'",body="'.$<a href='../Y/173.html' title='Multiple used in 576 places.'>db</a>-&gt;<a href='../D/86.html' title='Multiple defined in 4 places.'>escape</a>($<a href='../Y/46.html' title='Multiple used in 44 places.'>body</a>).'",rss_enabled='.$<a href='../Y/549.html' title='Multiple used in 6 places.'>rss_enabled</a>.',creatorId='.$<a href='../Y/559.html' title='Multiple used in 322 places.'>session</a>-&gt;<a href='../Y/278.html' title='Multiple used in 189 places.'>id</a>.',timeToPublish="'.<a href='../S/19.html#L403' title='Defined at 403 in class.DB_Base.php.'>sql_datetime</a>($<a href='../Y/644.html' title='Multiple used in 3 places.'>topublish_time</a>).'",timeCreated=NOW(),categoryId='.$<a href='../Y/57.html' title='Multiple used in 3 places.'>category_id</a>;
<a name='L24'>  24                 $<a href='../Y/173.html' title='Multiple used in 576 places.'>db</a>-&gt;<a href='../D/250.html' title='Multiple defined in 4 places.'>insert</a>($<a href='../Y/505.html' title='Multiple used in 705 places.'>q</a>);
<a name='L25'>  25 
<a name='L26'>  26                 <b>return</b> <b>true</b>;
<a name='L27'>  27         <font color='blue'>}</font>
<a name='L28'>  28 
<a name='L29'>  29         <b>function</b> <a href='../S/14.html#L171' title='Refered from 171 in functions_news.php.'>updateNews</a>($<a href='../Y/420.html' title='Multiple used in 6 places.'>newsId</a>, $<a href='../Y/58.html' title='Multiple used in 65 places.'>categoryId</a>, $<a href='../Y/637.html' title='Multiple used in 22 places.'>title</a>, $<a href='../Y/46.html' title='Multiple used in 44 places.'>body</a>, $<a href='../Y/643.html' title='Multiple used in 5 places.'>topublish</a>, $<a href='../Y/549.html' title='Multiple used in 6 places.'>rss_enabled</a>)
<a name='L30'>  30         <font color='blue'>{</font>
<a name='L31'>  31                 <b>global</b> $<a href='../Y/173.html' title='Multiple used in 576 places.'>db</a>, $<a href='../Y/559.html' title='Multiple used in 322 places.'>session</a>;
<a name='L32'>  32 
<a name='L33'>  33                 <b>if</b> (!$<a href='../Y/559.html' title='Multiple used in 322 places.'>session</a>-&gt;<a href='../Y/321.html' title='Multiple used in 53 places.'>isAdmin</a> || !<a href='../Y/324.html' title='Multiple used in 225 places.'>is_numeric</a>($<a href='../Y/420.html' title='Multiple used in 6 places.'>newsId</a>) || !<a href='../Y/324.html' title='Multiple used in 225 places.'>is_numeric</a>($<a href='../Y/58.html' title='Multiple used in 65 places.'>categoryId</a>) || !<a href='../Y/324.html' title='Multiple used in 225 places.'>is_numeric</a>($<a href='../Y/549.html' title='Multiple used in 6 places.'>rss_enabled</a>)) <b>return</b> <b>false</b>;
<a name='L34'>  34 
<a name='L35'>  35                 $<a href='../Y/643.html' title='Multiple used in 5 places.'>topublish</a> = <a href='../S/19.html#L403' title='Defined at 403 in class.DB_Base.php.'>sql_datetime</a>(<a href='../Y/602.html' title='Multiple used in 5 places.'>strtotime</a>($<a href='../Y/643.html' title='Multiple used in 5 places.'>topublish</a>));
<a name='L36'>  36 
<a name='L37'>  37                 $<a href='../Y/505.html' title='Multiple used in 705 places.'>q</a> = 'UPDATE tblNews SET categoryId='.$<a href='../Y/58.html' title='Multiple used in 65 places.'>categoryId</a>.',title="'.$<a href='../Y/173.html' title='Multiple used in 576 places.'>db</a>-&gt;<a href='../D/86.html' title='Multiple defined in 4 places.'>escape</a>($<a href='../Y/637.html' title='Multiple used in 22 places.'>title</a>).'",body="'.$<a href='../Y/173.html' title='Multiple used in 576 places.'>db</a>-&gt;<a href='../D/86.html' title='Multiple defined in 4 places.'>escape</a>($<a href='../Y/46.html' title='Multiple used in 44 places.'>body</a>).'",timeToPublish="'.$<a href='../Y/643.html' title='Multiple used in 5 places.'>topublish</a>.'",rss_enabled='.$<a href='../Y/549.html' title='Multiple used in 6 places.'>rss_enabled</a>.',timeEdited=NOW(),editorId='.$<a href='../Y/559.html' title='Multiple used in 322 places.'>session</a>-&gt;<a href='../Y/278.html' title='Multiple used in 189 places.'>id</a>.' WHERE newsId='.$<a href='../Y/420.html' title='Multiple used in 6 places.'>newsId</a>;
<a name='L38'>  38                 $<a href='../Y/173.html' title='Multiple used in 576 places.'>db</a>-&gt;<a href='../D/305.html' title='Multiple defined in 4 places.'>query</a>($<a href='../Y/505.html' title='Multiple used in 705 places.'>q</a>);
<a name='L39'>  39 
<a name='L40'>  40                 <b>return</b> <b>true</b>;
<a name='L41'>  41         <font color='blue'>}</font>
<a name='L42'>  42 
<a name='L43'>  43         <b>function</b> <a href='../S/14.html#L198' title='Refered from 198 in functions_news.php.'>removeNews</a>($<a href='../Y/97.html' title='Multiple used in 238 places.'>_id</a>)
<a name='L44'>  44         <font color='blue'>{</font>
<a name='L45'>  45                 <b>global</b> $<a href='../Y/173.html' title='Multiple used in 576 places.'>db</a>, $<a href='../Y/559.html' title='Multiple used in 322 places.'>session</a>;
<a name='L46'>  46                 <b>if</b> (!$<a href='../Y/559.html' title='Multiple used in 322 places.'>session</a>-&gt;<a href='../Y/321.html' title='Multiple used in 53 places.'>isAdmin</a> || !<a href='../Y/324.html' title='Multiple used in 225 places.'>is_numeric</a>($<a href='../Y/97.html' title='Multiple used in 238 places.'>_id</a>)) <b>return</b> <b>false</b>;
<a name='L47'>  47 
<a name='L48'>  48                 $<a href='../Y/173.html' title='Multiple used in 576 places.'>db</a>-&gt;<a href='../D/305.html' title='Multiple defined in 4 places.'>query</a>('UPDATE tblNews SET deletedBy='.$<a href='../Y/559.html' title='Multiple used in 322 places.'>session</a>-&gt;<a href='../Y/278.html' title='Multiple used in 189 places.'>id</a>.',timeDeleted=NOW() WHERE newsId='.$<a href='../Y/97.html' title='Multiple used in 238 places.'>_id</a>);
<a name='L49'>  49                 <b>return</b> <b>true</b>;
<a name='L50'>  50         <font color='blue'>}</font>
<a name='L51'>  51 
<a name='L52'>  52         <b>function</b> getAllNews()
<a name='L53'>  53         <font color='blue'>{</font>
<a name='L54'>  54                 <b>global</b> $<a href='../Y/173.html' title='Multiple used in 576 places.'>db</a>;
<a name='L55'>  55 
<a name='L56'>  56                 $<a href='../Y/505.html' title='Multiple used in 705 places.'>q</a>  = 'SELECT t1.*,t2.userName AS creatorName,t3.userName AS editorName FROM tblNews AS t1 ';
<a name='L57'>  57                 $<a href='../Y/505.html' title='Multiple used in 705 places.'>q</a> .= 'INNER JOIN tblUsers AS t2 ON (t1.creatorId=t2.userId) ';
<a name='L58'>  58                 $<a href='../Y/505.html' title='Multiple used in 705 places.'>q</a> .= 'LEFT OUTER JOIN tblUsers AS t3 ON (t1.editorId=t3.userId) ';
<a name='L59'>  59                 $<a href='../Y/505.html' title='Multiple used in 705 places.'>q</a> .= 'WHERE t1.deletedBy=0 ';
<a name='L60'>  60                 $<a href='../Y/505.html' title='Multiple used in 705 places.'>q</a> .= 'ORDER BY timeCreated DESC';
<a name='L61'>  61 
<a name='L62'>  62                 <b>return</b> $<a href='../Y/173.html' title='Multiple used in 576 places.'>db</a>-&gt;<a href='../D/128.html' title='Multiple defined in 4 places.'>getArray</a>($<a href='../Y/505.html' title='Multiple used in 705 places.'>q</a>);
<a name='L63'>  63         <font color='blue'>}</font>
<a name='L64'>  64 
<a name='L65'>  65         <i><font color='green'>//used by showNews() and core/rss_news.php</font></i>
<a name='L66'>  66         <b>function</b> <a href='../S/14.html#L246' title='Refered from 246 in functions_news.php.'>getPublishedNews</a>($<a href='../Y/59.html' title='Multiple used in 6 places.'>_categoryId</a> = 0, $<a href='../Y/345.html' title='Multiple used in 16 places.'>limit</a> = '')
<a name='L67'>  67         <font color='blue'>{</font>
<a name='L68'>  68                 <b>global</b> $<a href='../Y/173.html' title='Multiple used in 576 places.'>db</a>;
<a name='L69'>  69 
<a name='L70'>  70                 <b>if</b> (!<a href='../Y/324.html' title='Multiple used in 225 places.'>is_numeric</a>($<a href='../Y/59.html' title='Multiple used in 6 places.'>_categoryId</a>)) <b>return</b> <b>false</b>;
<a name='L71'>  71 
<a name='L72'>  72                 $<a href='../Y/505.html' title='Multiple used in 705 places.'>q</a>  = 'SELECT t1.*,t2.userName AS creatorName, t3.userName AS editorName FROM tblNews AS t1 ';
<a name='L73'>  73                 $<a href='../Y/505.html' title='Multiple used in 705 places.'>q</a> .= 'LEFT JOIN tblUsers AS t2 ON (t1.creatorId=t2.userId) ';
<a name='L74'>  74                 $<a href='../Y/505.html' title='Multiple used in 705 places.'>q</a> .= 'LEFT JOIN tblUsers AS t3 ON (t1.editorId=t3.userId) ';
<a name='L75'>  75                 $<a href='../Y/505.html' title='Multiple used in 705 places.'>q</a> .= 'WHERE timeToPublish&lt;NOW() AND deletedBy=0 ';
<a name='L76'>  76                 <b>if</b>  ($<a href='../Y/59.html' title='Multiple used in 6 places.'>_categoryId</a>) $<a href='../Y/505.html' title='Multiple used in 705 places.'>q</a> .= ' AND categoryId='.$<a href='../Y/59.html' title='Multiple used in 6 places.'>_categoryId</a>.' ';
<a name='L77'>  77                 $<a href='../Y/505.html' title='Multiple used in 705 places.'>q</a> .= 'ORDER BY timeToPublish DESC';
<a name='L78'>  78                 <b>if</b> ($<a href='../Y/345.html' title='Multiple used in 16 places.'>limit</a>) $<a href='../Y/505.html' title='Multiple used in 705 places.'>q</a> .= ' LIMIT 0,'.$<a href='../Y/345.html' title='Multiple used in 16 places.'>limit</a>;
<a name='L79'>  79 
<a name='L80'>  80                 <b>return</b> $<a href='../Y/173.html' title='Multiple used in 576 places.'>db</a>-&gt;<a href='../D/128.html' title='Multiple defined in 4 places.'>getArray</a>($<a href='../Y/505.html' title='Multiple used in 705 places.'>q</a>);
<a name='L81'>  81         <font color='blue'>}</font>
<a name='L82'>  82 
<a name='L83'>  83         <b>function</b> getUnpublishedNews($<a href='../Y/59.html' title='Multiple used in 6 places.'>_categoryId</a> = 0)
<a name='L84'>  84         <font color='blue'>{</font>
<a name='L85'>  85                 <b>global</b> $<a href='../Y/173.html' title='Multiple used in 576 places.'>db</a>;
<a name='L86'>  86 
<a name='L87'>  87                 <b>if</b> (!<a href='../Y/324.html' title='Multiple used in 225 places.'>is_numeric</a>($<a href='../Y/59.html' title='Multiple used in 6 places.'>_categoryId</a>)) <b>return</b> <b>false</b>;
<a name='L88'>  88 
<a name='L89'>  89                 $<a href='../Y/505.html' title='Multiple used in 705 places.'>q</a>  = 'SELECT t1.*,t2.userName AS creatorName, t3.userName AS editorName FROM tblNews AS t1 ';
<a name='L90'>  90                 $<a href='../Y/505.html' title='Multiple used in 705 places.'>q</a> .= 'LEFT JOIN tblUsers AS t2 ON (t1.creatorId=t2.userId) ';
<a name='L91'>  91                 $<a href='../Y/505.html' title='Multiple used in 705 places.'>q</a> .= 'LEFT JOIN tblUsers AS t3 ON (t1.editorId=t3.userId) ';
<a name='L92'>  92                 $<a href='../Y/505.html' title='Multiple used in 705 places.'>q</a> .= 'WHERE timeToPublish&gt;NOW() AND deletedBy=0 ';
<a name='L93'>  93                 <b>if</b>  ($<a href='../Y/59.html' title='Multiple used in 6 places.'>_categoryId</a>) $<a href='../Y/505.html' title='Multiple used in 705 places.'>q</a> .= ' AND categoryId='.$<a href='../Y/59.html' title='Multiple used in 6 places.'>_categoryId</a>.' ';
<a name='L94'>  94                 $<a href='../Y/505.html' title='Multiple used in 705 places.'>q</a> .= 'ORDER BY timeToPublish DESC';
<a name='L95'>  95 
<a name='L96'>  96                 <b>return</b> $<a href='../Y/173.html' title='Multiple used in 576 places.'>db</a>-&gt;<a href='../D/128.html' title='Multiple defined in 4 places.'>getArray</a>($<a href='../Y/505.html' title='Multiple used in 705 places.'>q</a>);
<a name='L97'>  97         <font color='blue'>}</font>
<a name='L98'>  98 
<a name='L99'>  99         <b>function</b> <a href='../R/112.html' title='Multiple refered from 2 places.'>getNewsItem</a>($<a href='../Y/420.html' title='Multiple used in 6 places.'>newsId</a>)
<a name='L100'> 100         <font color='blue'>{</font>
<a name='L101'> 101                 <b>global</b> $<a href='../Y/173.html' title='Multiple used in 576 places.'>db</a>;
<a name='L102'> 102 
<a name='L103'> 103                 <b>if</b> (!<a href='../Y/324.html' title='Multiple used in 225 places.'>is_numeric</a>($<a href='../Y/420.html' title='Multiple used in 6 places.'>newsId</a>)) <b>return</b> <b>false</b>;
<a name='L104'> 104 
<a name='L105'> 105                 $<a href='../Y/505.html' title='Multiple used in 705 places.'>q</a>  = 'SELECT t1.*,t2.userName AS creatorName,t3.userName AS editorName FROM tblNews AS t1 ';
<a name='L106'> 106                 $<a href='../Y/505.html' title='Multiple used in 705 places.'>q</a> .= 'INNER JOIN tblUsers AS t2 ON (t1.creatorId=t2.userId) ';
<a name='L107'> 107                 $<a href='../Y/505.html' title='Multiple used in 705 places.'>q</a> .= 'LEFT OUTER JOIN tblUsers AS t3 ON (t1.editorId=t3.userId) ';
<a name='L108'> 108                 $<a href='../Y/505.html' title='Multiple used in 705 places.'>q</a> .= 'WHERE t1.newsId='.$<a href='../Y/420.html' title='Multiple used in 6 places.'>newsId</a>.' AND deletedBy=0';
<a name='L109'> 109                 <b>return</b> $<a href='../Y/173.html' title='Multiple used in 576 places.'>db</a>-&gt;<a href='../D/205.html' title='Multiple defined in 4 places.'>getOneRow</a>($<a href='../Y/505.html' title='Multiple used in 705 places.'>q</a>);
<a name='L110'> 110         <font color='blue'>}</font>
<a name='L111'> 111 
<a name='L112'> 112         <b>function</b> <a href='../S/14.html#L240' title='Refered from 240 in functions_news.php.'>showNewsArticle</a>($<a href='../Y/97.html' title='Multiple used in 238 places.'>_id</a> = 0)
<a name='L113'> 113         <font color='blue'>{</font>
<a name='L114'> 114                 <b>global</b> $<a href='../Y/173.html' title='Multiple used in 576 places.'>db</a>, $<a href='../Y/559.html' title='Multiple used in 322 places.'>session</a>, $<a href='../Y/245.html' title='Multiple used in 21 places.'>files</a>, $<a href='../Y/146.html' title='Multiple used in 316 places.'>config</a>, $<a href='../Y/498.html' title='Multiple used in 6 places.'>project</a>;
<a name='L115'> 115 
<a name='L116'> 116                 <b>if</b> (!<a href='../Y/324.html' title='Multiple used in 225 places.'>is_numeric</a>($<a href='../Y/97.html' title='Multiple used in 238 places.'>_id</a>)) <b>return</b> <b>false</b>;
<a name='L117'> 117 
<a name='L118'> 118                 <i><font color='green'>//Looks for formatted news section commands, like: News:ID, NewsEdit:ID, NewsDelete:ID, NewsComment:ID, NewsFiles:ID</font></i>
<a name='L119'> 119                 $<a href='../Y/79.html' title='Multiple used in 6 places.'>cmd</a> = <a href='../S/17.html#L204' title='Defined at 204 in functions_general.php.'>fetchSpecialParams</a>($<a href='../Y/146.html' title='Multiple used in 316 places.'>config</a>['news']['allowed_tabs']);
<a name='L120'> 120                 <b>if</b> ($<a href='../Y/79.html' title='Multiple used in 6 places.'>cmd</a>) <b>list</b>($<a href='../Y/160.html' title='Multiple used in 19 places.'>current_tab</a>, $<a href='../Y/97.html' title='Multiple used in 238 places.'>_id</a>) = $<a href='../Y/79.html' title='Multiple used in 6 places.'>cmd</a>;
<a name='L121'> 121                 <b>if</b> (<b>empty</b>($<a href='../Y/97.html' title='Multiple used in 238 places.'>_id</a>) || !<a href='../Y/324.html' title='Multiple used in 225 places.'>is_numeric</a>($<a href='../Y/97.html' title='Multiple used in 238 places.'>_id</a>)) <b>return</b> <b>false</b>;
<a name='L122'> 122 
<a name='L123'> 123                 $<a href='../Y/417.html' title='Multiple used in 13 places.'>news</a> = <a href='../S/14.html#L99' title='Defined at 99 in functions_news.php.'>getNewsItem</a>($<a href='../Y/97.html' title='Multiple used in 238 places.'>_id</a>);
<a name='L124'> 124                 <b>if</b> (!$<a href='../Y/417.html' title='Multiple used in 13 places.'>news</a>) <b>return</b>;
<a name='L125'> 125                 
<a name='L126'> 126                 <b>if</b> (!$<a href='../Y/559.html' title='Multiple used in 322 places.'>session</a>-&gt;<a href='../Y/321.html' title='Multiple used in 53 places.'>isAdmin</a> &amp;&amp; !<a href='../S/19.html#L424' title='Defined at 424 in class.DB_Base.php.'>datetime_less</a>($<a href='../Y/417.html' title='Multiple used in 13 places.'>news</a>['timeToPublish'], <a href='../S/19.html#L393' title='Defined at 393 in class.DB_Base.php.'>now</a>())) <b>return</b> <b>false</b>;
<a name='L127'> 127 
<a name='L128'> 128                 <b>echo</b> '&lt;div class="news"&gt;';
<a name='L129'> 129                 <b>echo</b> '&lt;div class="news_top"&gt;';
<a name='L130'> 130                 <b>if</b> ($<a href='../Y/417.html' title='Multiple used in 13 places.'>news</a>['rss_enabled']) <b>echo</b> '&lt;div class="news_title_rss"&gt;';
<a name='L131'> 131                 <b>else</b> <b>echo</b> '&lt;div class="news_title"&gt;';
<a name='L132'> 132                 <b>echo</b> $<a href='../Y/417.html' title='Multiple used in 13 places.'>news</a>['title'].'&lt;/div&gt;';
<a name='L133'> 133 
<a name='L134'> 134                 <b>if</b> ($<a href='../Y/417.html' title='Multiple used in 13 places.'>news</a>['categoryId']) <font color='blue'>{</font>
<a name='L135'> 135                         <b>echo</b> '&lt;a href="news.php?cat='.$<a href='../Y/417.html' title='Multiple used in 13 places.'>news</a>['categoryId'].'"&gt;'.<a href='../S/26.html#L73' title='Defined at 73 in atom_categories.php.'>getCategoryName</a>(<a href='../S/26.html#L20' title='Defined at 20 in atom_categories.php.'>CATEGORY_NEWS</a>, $<a href='../Y/417.html' title='Multiple used in 13 places.'>news</a>['categoryId']).'&lt;/a&gt;&lt;br/&gt;';
<a name='L136'> 136                 <font color='blue'>}</font>
<a name='L137'> 137                 <b>echo</b> 'By '.<a href='../S/27.html#L323' title='Defined at 323 in functions_users.php.'>nameLink</a>($<a href='../Y/417.html' title='Multiple used in 13 places.'>news</a>['creatorId'], $<a href='../Y/417.html' title='Multiple used in 13 places.'>news</a>['creatorName']);
<a name='L138'> 138                 <b>if</b> (<a href='../S/19.html#L424' title='Defined at 424 in class.DB_Base.php.'>datetime_less</a>($<a href='../Y/417.html' title='Multiple used in 13 places.'>news</a>['timeToPublish'], <a href='../S/19.html#L393' title='Defined at 393 in class.DB_Base.php.'>now</a>())) <font color='blue'>{</font>
<a name='L139'> 139                         <b>echo</b> ', published '.$<a href='../Y/417.html' title='Multiple used in 13 places.'>news</a>['timeToPublish'].'&lt;br/&gt;';
<a name='L140'> 140                 <font color='blue'>}</font> <b>else</b> <font color='blue'>{</font>
<a name='L141'> 141                         <b>echo</b> ', &lt;b&gt;will be published '.$<a href='../Y/417.html' title='Multiple used in 13 places.'>news</a>['timeToPublish'].'&lt;/b&gt;&lt;br/&gt;';
<a name='L142'> 142                 <font color='blue'>}</font>
<a name='L143'> 143                 
<a name='L144'> 144                 
<a name='L145'> 145                 <b>if</b> ($<a href='../Y/417.html' title='Multiple used in 13 places.'>news</a>['editorId']) <b>echo</b> '&lt;i&gt;Updated '.$<a href='../Y/417.html' title='Multiple used in 13 places.'>news</a>['timeEdited'].' by '.$<a href='../Y/417.html' title='Multiple used in 13 places.'>news</a>['editorName'].'&lt;/i&gt;&lt;br/&gt;';
<a name='L146'> 146                 <b>echo</b> '&lt;/div&gt;'; <i><font color='green'>//class="news_top"</font></i>
<a name='L147'> 147                 <b>echo</b> '&lt;br/&gt;';
<a name='L148'> 148 
<a name='L149'> 149                 <b>if</b> ($<a href='../Y/559.html' title='Multiple used in 322 places.'>session</a>-&gt;<a href='../Y/321.html' title='Multiple used in 53 places.'>isAdmin</a>) <font color='blue'>{</font>
<a name='L150'> 150                         $<a href='../Y/367.html' title='Multiple used in 10 places.'>menu</a> = <b>array</b>(
<a name='L151'> 151                                 $<a href='../Y/122.html' title='Multiple used in 49 places.'>_SERVER</a>['PHP_SELF'].'?News:'.$<a href='../Y/97.html' title='Multiple used in 238 places.'>_id</a> =&gt; 'Show news',
<a name='L152'> 152                                 $<a href='../Y/122.html' title='Multiple used in 49 places.'>_SERVER</a>['PHP_SELF'].'?NewsEdit:'.$<a href='../Y/97.html' title='Multiple used in 238 places.'>_id</a> =&gt; 'Edit',
<a name='L153'> 153                                 $<a href='../Y/122.html' title='Multiple used in 49 places.'>_SERVER</a>['PHP_SELF'].'?NewsPolls:'.$<a href='../Y/97.html' title='Multiple used in 238 places.'>_id</a> =&gt; 'Polls',
<a name='L154'> 154                                 $<a href='../Y/122.html' title='Multiple used in 49 places.'>_SERVER</a>['PHP_SELF'].'?NewsFiles:'.$<a href='../Y/97.html' title='Multiple used in 238 places.'>_id</a> =&gt; 'Attachments ('.$<a href='../Y/245.html' title='Multiple used in 21 places.'>files</a>-&gt;<a href='../S/4.html#L970' title='Defined at 970 in class.Files.php.'>getFileCount</a>(<a href='../S/4.html#L19' title='Defined at 19 in class.Files.php.'>FILETYPE_NEWS</a>, $<a href='../Y/97.html' title='Multiple used in 238 places.'>_id</a>).')',
<a name='L155'> 155                                 $<a href='../Y/122.html' title='Multiple used in 49 places.'>_SERVER</a>['PHP_SELF'].'?NewsDelete:'.$<a href='../Y/97.html' title='Multiple used in 238 places.'>_id</a> =&gt; 'Delete',
<a name='L156'> 156                                 $<a href='../Y/122.html' title='Multiple used in 49 places.'>_SERVER</a>['PHP_SELF'].'?NewsCategories:'.$<a href='../Y/97.html' title='Multiple used in 238 places.'>_id</a> =&gt; 'Categories',
<a name='L157'> 157                                 $<a href='../Y/122.html' title='Multiple used in 49 places.'>_SERVER</a>['PHP_SELF'].'?NewsComment:'.$<a href='../Y/97.html' title='Multiple used in 238 places.'>_id</a> =&gt; 'Comments ('.<a href='../S/25.html#L118' title='Defined at 118 in atom_comments.php.'>getCommentsCount</a>(<a href='../S/25.html#L8' title='Defined at 8 in atom_comments.php.'>COMMENT_NEWS</a>, $<a href='../Y/97.html' title='Multiple used in 238 places.'>_id</a>).')'
<a name='L158'> 158                                 );
<a name='L159'> 159                 <font color='blue'>}</font> <b>else</b> <font color='blue'>{</font>
<a name='L160'> 160                         $<a href='../Y/367.html' title='Multiple used in 10 places.'>menu</a> = <b>array</b>(
<a name='L161'> 161                                 $<a href='../Y/122.html' title='Multiple used in 49 places.'>_SERVER</a>['PHP_SELF'].'?News:'.$<a href='../Y/97.html' title='Multiple used in 238 places.'>_id</a> =&gt; 'Show article',
<a name='L162'> 162                                 $<a href='../Y/122.html' title='Multiple used in 49 places.'>_SERVER</a>['PHP_SELF'].'?NewsComment:'.$<a href='../Y/97.html' title='Multiple used in 238 places.'>_id</a> =&gt; 'Comments ('.<a href='../S/25.html#L118' title='Defined at 118 in atom_comments.php.'>getCommentsCount</a>(<a href='../S/25.html#L8' title='Defined at 8 in atom_comments.php.'>COMMENT_NEWS</a>, $<a href='../Y/97.html' title='Multiple used in 238 places.'>_id</a>).')'
<a name='L163'> 163                                 );
<a name='L164'> 164                 <font color='blue'>}</font>
<a name='L165'> 165 
<a name='L166'> 166                 <b>echo</b> <a href='../S/17.html#L182' title='Defined at 182 in functions_general.php.'>createMenu</a>($<a href='../Y/367.html' title='Multiple used in 10 places.'>menu</a>, 'blog_menu');
<a name='L167'> 167 
<a name='L168'> 168                 <b>if</b> ($<a href='../Y/160.html' title='Multiple used in 19 places.'>current_tab</a> == 'NewsEdit' &amp;&amp; $<a href='../Y/559.html' title='Multiple used in 322 places.'>session</a>-&gt;<a href='../Y/321.html' title='Multiple used in 53 places.'>isAdmin</a>) <font color='blue'>{</font>
<a name='L169'> 169 
<a name='L170'> 170                         <b>if</b> (!<b>empty</b>($<a href='../Y/114.html' title='Multiple used in 49 places.'>_POST</a>['news_title'])) <font color='blue'>{</font>
<a name='L171'> 171                                 <a href='../S/14.html#L29' title='Defined at 29 in functions_news.php.'>updateNews</a>($<a href='../Y/97.html' title='Multiple used in 238 places.'>_id</a>, $<a href='../Y/114.html' title='Multiple used in 49 places.'>_POST</a>['news_cat'], $<a href='../Y/114.html' title='Multiple used in 49 places.'>_POST</a>['news_title'], $<a href='../Y/114.html' title='Multiple used in 49 places.'>_POST</a>['news_body'], $<a href='../Y/114.html' title='Multiple used in 49 places.'>_POST</a>['news_publish'], $<a href='../Y/114.html' title='Multiple used in 49 places.'>_POST</a>['news_rss']);
<a name='L172'> 172                         <font color='blue'>}</font>
<a name='L173'> 173 
<a name='L174'> 174                         $<a href='../Y/331.html' title='Multiple used in 35 places.'>item</a> = <a href='../S/14.html#L99' title='Defined at 99 in functions_news.php.'>getNewsItem</a>($<a href='../Y/97.html' title='Multiple used in 238 places.'>_id</a>);
<a name='L175'> 175 
<a name='L176'> 176                         <b>echo</b> '&lt;h1&gt;Edit news article&lt;/h1&gt;';
<a name='L177'> 177                         <b>echo</b> '&lt;form method="post" action="'.'?NewsEdit:'.$<a href='../Y/97.html' title='Multiple used in 238 places.'>_id</a>.<a href='../S/17.html#L63' title='Defined at 63 in functions_general.php.'>getProjectPath</a>().'"&gt;';
<a name='L178'> 178                         <b>echo</b> '&lt;input type="hidden" name="news_rss" value="0"/&gt;';
<a name='L179'> 179                         <b>echo</b> 'Title: &lt;input type="text" name="news_title" size="50" value="'.$<a href='../Y/331.html' title='Multiple used in 35 places.'>item</a>['title'].'"/&gt;&lt;br/&gt;';
<a name='L180'> 180                         <b>echo</b> 'Text:&lt;br/&gt;';
<a name='L181'> 181                         <b>echo</b> '&lt;textarea name="news_body" cols="60" rows="16"&gt;'.$<a href='../Y/331.html' title='Multiple used in 35 places.'>item</a>['body'].'&lt;/textarea&gt;&lt;br/&gt;';
<a name='L182'> 182                         <b>echo</b> '&lt;input name="news_rss" id="rss_check" type="checkbox" class="checkbox" value="1"'.($<a href='../Y/331.html' title='Multiple used in 35 places.'>item</a>['rss_enabled']?' checked="checked"':'').'/&gt;';
<a name='L183'> 183                         <b>echo</b> ' &lt;label for="rss_check"&gt;';
<a name='L184'> 184                         <b>echo</b> '&lt;img src="'.$<a href='../Y/146.html' title='Multiple used in 316 places.'>config</a>['core_web_root'].'gfx/icon_rss.png" width="16" height="16" alt="RSS enabled" title="RSS enabled"/&gt;';
<a name='L185'> 185                         <b>echo</b> ' Include this news in the RSS feed&lt;/label&gt;&lt;br/&gt;&lt;br/&gt;';
<a name='L186'> 186                         <b>echo</b> 'Category: '.<a href='../S/26.html#L146' title='Defined at 146 in atom_categories.php.'>getCategoriesSelect</a>(<a href='../S/26.html#L20' title='Defined at 20 in atom_categories.php.'>CATEGORY_NEWS</a>, 0, 'news_cat', $<a href='../Y/331.html' title='Multiple used in 35 places.'>item</a>['categoryId']).'&lt;br/&gt;&lt;br/&gt;';
<a name='L187'> 187                         <b>echo</b> 'Time for publication:&lt;br/&gt;';
<a name='L188'> 188                         <b>echo</b> '&lt;input type="text" name="news_publish" value="'.$<a href='../Y/331.html' title='Multiple used in 35 places.'>item</a>['timeToPublish'].'"/&gt; ';
<a name='L189'> 189                         <b>echo</b> '&lt;input type="submit" class="button" value="Save changes"/&gt;&lt;br/&gt;';
<a name='L190'> 190                         <b>echo</b> '&lt;/form&gt;&lt;br/&gt;';
<a name='L191'> 191 
<a name='L192'> 192                 <font color='blue'>}</font> <b>else</b> <b>if</b> ($<a href='../Y/160.html' title='Multiple used in 19 places.'>current_tab</a> == 'NewsPolls' &amp;&amp; $<a href='../Y/559.html' title='Multiple used in 322 places.'>session</a>-&gt;<a href='../Y/321.html' title='Multiple used in 53 places.'>isAdmin</a>) <font color='blue'>{</font>
<a name='L193'> 193                         <a href='../S/5.html#L188' title='Defined at 188 in atom_polls.php.'>managePolls</a>(<a href='../S/5.html#L8' title='Defined at 8 in atom_polls.php.'>POLL_NEWS</a>, $<a href='../Y/97.html' title='Multiple used in 238 places.'>_id</a>);
<a name='L194'> 194 
<a name='L195'> 195                 <font color='blue'>}</font> <b>else</b> <b>if</b> ($<a href='../Y/160.html' title='Multiple used in 19 places.'>current_tab</a> == 'NewsDelete' &amp;&amp; $<a href='../Y/559.html' title='Multiple used in 322 places.'>session</a>-&gt;<a href='../Y/321.html' title='Multiple used in 53 places.'>isAdmin</a>) <font color='blue'>{</font>
<a name='L196'> 196 
<a name='L197'> 197                         <b>if</b> (<a href='../S/17.html#L157' title='Defined at 157 in functions_general.php.'>confirmed</a>('Are you sure you wish to delete this news entry?', 'NewsDelete:'.$<a href='../Y/97.html' title='Multiple used in 238 places.'>_id</a>)) <font color='blue'>{</font>
<a name='L198'> 198                                 <a href='../S/14.html#L43' title='Defined at 43 in functions_news.php.'>removeNews</a>($<a href='../Y/97.html' title='Multiple used in 238 places.'>_id</a>);
<a name='L199'> 199 
<a name='L200'> 200                                 <b>require_once</b>($<a href='../Y/498.html' title='Multiple used in 6 places.'>project</a>.'design_head.php');
<a name='L201'> 201                                 <b>echo</b> 'News article successfully deleted!&lt;br/&gt;&lt;br/&gt;';
<a name='L202'> 202                                 <b>require_once</b>($<a href='../Y/498.html' title='Multiple used in 6 places.'>project</a>.'design_foot.php');
<a name='L203'> 203                                 <b>die</b>;
<a name='L204'> 204                         <font color='blue'>}</font>
<a name='L205'> 205 
<a name='L206'> 206                 <font color='blue'>}</font> <b>else</b> <b>if</b> ($<a href='../Y/160.html' title='Multiple used in 19 places.'>current_tab</a> == 'NewsCategories' &amp;&amp; $<a href='../Y/559.html' title='Multiple used in 322 places.'>session</a>-&gt;<a href='../Y/321.html' title='Multiple used in 53 places.'>isAdmin</a>) <font color='blue'>{</font>
<a name='L207'> 207 
<a name='L208'> 208                         <a href='../S/26.html#L211' title='Defined at 211 in atom_categories.php.'>manageCategoriesDialog</a>(<a href='../S/26.html#L20' title='Defined at 20 in atom_categories.php.'>CATEGORY_NEWS</a>);
<a name='L209'> 209 
<a name='L210'> 210                 <font color='blue'>}</font> <b>else</b> <b>if</b> ($<a href='../Y/160.html' title='Multiple used in 19 places.'>current_tab</a> == 'NewsFiles' &amp;&amp; $<a href='../Y/559.html' title='Multiple used in 322 places.'>session</a>-&gt;<a href='../Y/321.html' title='Multiple used in 53 places.'>isAdmin</a>) <font color='blue'>{</font>
<a name='L211'> 211 
<a name='L212'> 212                         <b>echo</b> $<a href='../Y/245.html' title='Multiple used in 21 places.'>files</a>-&gt;<a href='../S/4.html#L193' title='Defined at 193 in class.Files.php.'>showFiles</a>(<a href='../S/4.html#L19' title='Defined at 19 in class.Files.php.'>FILETYPE_NEWS</a>, $<a href='../Y/97.html' title='Multiple used in 238 places.'>_id</a>);
<a name='L213'> 213 
<a name='L214'> 214                 <font color='blue'>}</font> <b>else</b> <b>if</b> ($<a href='../Y/160.html' title='Multiple used in 19 places.'>current_tab</a> == 'NewsComment') <font color='blue'>{</font>
<a name='L215'> 215                         <a href='../S/25.html#L130' title='Defined at 130 in atom_comments.php.'>showComments</a>(<a href='../S/25.html#L8' title='Defined at 8 in atom_comments.php.'>COMMENT_NEWS</a>, $<a href='../Y/97.html' title='Multiple used in 238 places.'>_id</a>);
<a name='L216'> 216                 <font color='blue'>}</font> <b>else</b> <font color='blue'>{</font>
<a name='L217'> 217 
<a name='L218'> 218                         $<a href='../Y/29.html' title='Multiple used in 15 places.'>art</a> = <a href='../S/6.html#L326' title='Defined at 326 in functions_textformat.php.'>parseArticle</a>($<a href='../Y/417.html' title='Multiple used in 13 places.'>news</a>['body']);
<a name='L219'> 219                         <b>if</b> ($<a href='../Y/29.html' title='Multiple used in 15 places.'>art</a>['head']) <b>echo</b> '&lt;div class="news_head"&gt;'.$<a href='../Y/29.html' title='Multiple used in 15 places.'>art</a>['head'].'&lt;/div&gt;';
<a name='L220'> 220                         <b>echo</b> '&lt;div class="news_body"&gt;'.$<a href='../Y/29.html' title='Multiple used in 15 places.'>art</a>['body'].'&lt;/div&gt;';
<a name='L221'> 221 
<a name='L222'> 222                         <b>if</b> ($<a href='../Y/146.html' title='Multiple used in 316 places.'>config</a>['news']['allow_rating']) <font color='blue'>{</font>
<a name='L223'> 223                                 <b>echo</b> '&lt;br/&gt;';
<a name='L224'> 224                                 <b>echo</b> '&lt;div class="news_rate"&gt;';
<a name='L225'> 225                                 <b>echo</b> <a href='../S/1.html#L91' title='Defined at 91 in atom_rating.php.'>ratingGadget</a>(<a href='../S/1.html#L9' title='Defined at 9 in atom_rating.php.'>RATE_NEWS</a>, $<a href='../Y/97.html' title='Multiple used in 238 places.'>_id</a>);
<a name='L226'> 226                                 <b>echo</b> '&lt;/div&gt;';
<a name='L227'> 227                         <font color='blue'>}</font>
<a name='L228'> 228                 <font color='blue'>}</font>
<a name='L229'> 229 
<a name='L230'> 230                 <b>echo</b> '&lt;/div&gt;'; <i><font color='green'>//class="news"</font></i>
<a name='L231'> 231 
<a name='L232'> 232                 <b>return</b> <b>true</b>;
<a name='L233'> 233         <font color='blue'>}</font>
<a name='L234'> 234 
<a name='L235'> 235         <b>function</b> showNews($<a href='../Y/345.html' title='Multiple used in 16 places.'>limit</a> = 3)
<a name='L236'> 236         <font color='blue'>{</font>
<a name='L237'> 237                 <b>global</b> $<a href='../Y/173.html' title='Multiple used in 576 places.'>db</a>, $<a href='../Y/559.html' title='Multiple used in 322 places.'>session</a>, $<a href='../Y/146.html' title='Multiple used in 316 places.'>config</a>;
<a name='L238'> 238 
<a name='L239'> 239                 <i><font color='green'>/* Displays one news article - returns if successful */</font></i>
<a name='L240'> 240                 <b>if</b> (<a href='../S/14.html#L112' title='Defined at 112 in functions_news.php.'>showNewsArticle</a>()) <b>return</b>;
<a name='L241'> 241 
<a name='L242'> 242                 $<a href='../Y/60.html' title='Multiple used in 3 places.'>_cat_id</a> = 0;
<a name='L243'> 243                 <b>if</b> (!<b>empty</b>($<a href='../Y/92.html' title='Multiple used in 54 places.'>_GET</a>['cat']) &amp;&amp; <a href='../Y/324.html' title='Multiple used in 225 places.'>is_numeric</a>($<a href='../Y/92.html' title='Multiple used in 54 places.'>_GET</a>['cat'])) $<a href='../Y/60.html' title='Multiple used in 3 places.'>_cat_id</a> = $<a href='../Y/92.html' title='Multiple used in 54 places.'>_GET</a>['cat'];
<a name='L244'> 244 
<a name='L245'> 245                 <i><font color='green'>/* visar en lista med de senaste nyheternas headlines, alla kategorier */</font></i>
<a name='L246'> 246                 $<a href='../Y/348.html' title='Multiple used in 160 places.'>list</a> = <a href='../S/14.html#L66' title='Defined at 66 in functions_news.php.'>getPublishedNews</a>($<a href='../Y/60.html' title='Multiple used in 3 places.'>_cat_id</a>, $<a href='../Y/345.html' title='Multiple used in 16 places.'>limit</a>);
<a name='L247'> 247 
<a name='L248'> 248                 <b>foreach</b> ($<a href='../Y/348.html' title='Multiple used in 160 places.'>list</a> <b>as</b> $<a href='../Y/547.html' title='Multiple used in 248 places.'>row</a>) <font color='blue'>{</font>
<a name='L249'> 249                         <a href='../S/14.html#L257' title='Defined at 257 in functions_news.php.'>showNewsOverview</a>($<a href='../Y/547.html' title='Multiple used in 248 places.'>row</a>);
<a name='L250'> 250                 <font color='blue'>}</font>
<a name='L251'> 251                 <b>if</b> ($<a href='../Y/559.html' title='Multiple used in 322 places.'>session</a>-&gt;<a href='../Y/321.html' title='Multiple used in 53 places.'>isAdmin</a>) <font color='blue'>{</font>
<a name='L252'> 252                         <b>echo</b> '&lt;a href="'.$<a href='../Y/146.html' title='Multiple used in 316 places.'>config</a>['core_web_root'].'admin/admin_news_add.php'.<a href='../S/17.html#L63' title='Defined at 63 in functions_general.php.'>getProjectPath</a>(0).'"&gt;Add news&lt;/a&gt;&lt;br/&gt;';
<a name='L253'> 253                         <b>echo</b> '&lt;a href="'.$<a href='../Y/146.html' title='Multiple used in 316 places.'>config</a>['core_web_root'].'admin/admin_news.php'.<a href='../S/17.html#L63' title='Defined at 63 in functions_general.php.'>getProjectPath</a>(0).'"&gt;Manage news&lt;/a&gt;&lt;br/&gt;';
<a name='L254'> 254                 <font color='blue'>}</font>
<a name='L255'> 255         <font color='blue'>}</font>
<a name='L256'> 256         
<a name='L257'> 257         <b>function</b> <a href='../S/14.html#L249' title='Refered from 249 in functions_news.php.'>showNewsOverview</a>($<a href='../Y/547.html' title='Multiple used in 248 places.'>row</a>)
<a name='L258'> 258         <font color='blue'>{</font>
<a name='L259'> 259                 <b>global</b> $<a href='../Y/146.html' title='Multiple used in 316 places.'>config</a>;
<a name='L260'> 260 
<a name='L261'> 261                 <b>echo</b> '&lt;div class="news_item_overview"&gt;';
<a name='L262'> 262 
<a name='L263'> 263                 <b>echo</b> '&lt;h1&gt;'.$<a href='../Y/547.html' title='Multiple used in 248 places.'>row</a>['title'].'&lt;/h1&gt;';
<a name='L264'> 264                 <b>echo</b> '&lt;div&gt;';
<a name='L265'> 265                 <b>echo</b> '&lt;div class="news_item_picl"&gt;'.<a href='../S/27.html#L332' title='Defined at 332 in functions_users.php.'>nameThumbLink</a>($<a href='../Y/547.html' title='Multiple used in 248 places.'>row</a>['creatorId'], $<a href='../Y/547.html' title='Multiple used in 248 places.'>row</a>['creatorName']).'&lt;/div&gt;';
<a name='L266'> 266                         <b>echo</b> '&lt;a href="?News:'.$<a href='../Y/547.html' title='Multiple used in 248 places.'>row</a>['newsId'].'"&gt;'.$<a href='../Y/547.html' title='Multiple used in 248 places.'>row</a>['title'].'&lt;/a&gt; '.$<a href='../Y/547.html' title='Multiple used in 248 places.'>row</a>['timeToPublish'].'&lt;br/&gt;'; <i><font color='green'>//fixme: show optional link title instead</font></i>
<a name='L267'> 267                         $<a href='../Y/29.html' title='Multiple used in 15 places.'>art</a> = <a href='../S/6.html#L326' title='Defined at 326 in functions_textformat.php.'>parseArticle</a>($<a href='../Y/547.html' title='Multiple used in 248 places.'>row</a>['body']);
<a name='L268'> 268                         <b>echo</b> $<a href='../Y/29.html' title='Multiple used in 15 places.'>art</a>['head'];
<a name='L269'> 269                 <b>echo</b> '&lt;/div&gt;';
<a name='L270'> 270                 <i><font color='green'>/*</font></i>
<a name='L271'> 271 <i><font color='green'>                echo '&lt;a href="?News:'.$row['newsId'].'"&gt;'.$row['title'].'&lt;/a&gt;, published '.$row['timeToPublish'];</font></i>
<a name='L272'> 272 <i><font color='green'>                if ($row['categoryId']) echo ' - &lt;a href="news.php?cat='.$row['categoryId'].'"&gt;'.getCategoryName(CATEGORY_NEWS, $row['categoryId']).'&lt;/a&gt;';</font></i>
<a name='L273'> 273 <i><font color='green'>                $art = parseArticle($row['body']);</font></i>
<a name='L274'> 274 <i><font color='green'>                echo '&lt;br/&gt;'.$art['head'].'&lt;br/&gt;';</font></i>
<a name='L275'> 275 <i><font color='green'>                */</font></i>
<a name='L276'> 276                 <b>echo</b> '&lt;/div&gt;&lt;br class="clr"/&gt;';
<a name='L277'> 277                 
<a name='L278'> 278                 <b>if</b> ($<a href='../Y/146.html' title='Multiple used in 316 places.'>config</a>['news']['allow_polls']) <font color='blue'>{</font>
<a name='L279'> 279                         <i><font color='green'>//show news polls</font></i>
<a name='L280'> 280                         <a href='../S/5.html#L391' title='Defined at 391 in atom_polls.php.'>showAttachedPolls</a>(<a href='../S/5.html#L8' title='Defined at 8 in atom_polls.php.'>POLL_NEWS</a>, $<a href='../Y/547.html' title='Multiple used in 248 places.'>row</a>['newsId']);
<a name='L281'> 281                         <b>echo</b> '&lt;br/&gt;';
<a name='L282'> 282                 <font color='blue'>}</font>
<a name='L283'> 283         <font color='blue'>}</font>
<a name='L284'> 284 ?&gt;
</pre>
<hr>
<a name='BOTTOM'>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L11'>[^]</a><a href='#L257'>[v]</a><a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
</body>
</html>
