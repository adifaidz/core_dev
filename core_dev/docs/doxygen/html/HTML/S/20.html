<html>
<head>
<title>functions_ip.php</title>
<meta name='robots' content='noindex,nofollow'>
<meta name='generator' content='GLOBAL-4.8.6'>
</head>
<body>
<a name='TOP'><h2><a href='../mains.html'>root</a>/functions_ip.php</h2>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L3'>[^]</a><a href='#L30'>[v]</a>[top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
<hr>
<h2>DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href='#L3' title='Defined at 3.'>IPv4_to_GeoIP</a>
<li><a href='#L15' title='Defined at 15.'>GeoIP_to_IPv4</a>
<li><a href='#L30' title='Defined at 30.'>IgnoredIPRange</a>
</ol>
<hr>
<pre>
<a name='L1'>   1 &lt;?
<a name='L2'>   2         <i><font color='green'>/* Takes a IPv4 address in the form 123.123.123.123 and returns a GeoIP address */</font></i>
<a name='L3'>   3         <b>function</b> <a href='../R/141.html' title='Multiple refered from 4 places.'>IPv4_to_GeoIP</a>($<a href='../Y/317.html' title='Multiple used in 22 places.'>ip</a>)
<a name='L4'>   4         <font color='blue'>{</font>
<a name='L5'>   5                 <b>if</b> (<a href='../Y/324.html' title='Multiple used in 225 places.'>is_numeric</a>($<a href='../Y/317.html' title='Multiple used in 22 places.'>ip</a>)) <b>return</b> $<a href='../Y/317.html' title='Multiple used in 22 places.'>ip</a>;
<a name='L6'>   6 
<a name='L7'>   7                 $<a href='../Y/318.html' title='Multiple used in 3 places.'>iparr</a> = <a href='../Y/215.html' title='Multiple used in 13 places.'>explode</a>('.', <a href='../Y/650.html' title='Multiple used in 20 places.'>trim</a>($<a href='../Y/317.html' title='Multiple used in 22 places.'>ip</a>));
<a name='L8'>   8                 <b>if</b> (<a href='../Y/151.html' title='Multiple used in 53 places.'>count</a>($<a href='../Y/318.html' title='Multiple used in 3 places.'>iparr</a>) != 4) <b>return</b> 0;
<a name='L9'>   9 
<a name='L10'>  10                 $<a href='../Y/319.html' title='Multiple used in 2 places.'>ipnum</a> = ($<a href='../Y/318.html' title='Multiple used in 3 places.'>iparr</a>[0]*16777216) + ($<a href='../Y/318.html' title='Multiple used in 3 places.'>iparr</a>[1]*65536) + ($<a href='../Y/318.html' title='Multiple used in 3 places.'>iparr</a>[2]*256) + $<a href='../Y/318.html' title='Multiple used in 3 places.'>iparr</a>[3];
<a name='L11'>  11                 <b>return</b> $<a href='../Y/319.html' title='Multiple used in 2 places.'>ipnum</a>;
<a name='L12'>  12         <font color='blue'>}</font>
<a name='L13'>  13 
<a name='L14'>  14         <i><font color='green'>/* Takes a GeoIP address in the form 32bit unsigned integer and returns a IPv4 address */</font></i>
<a name='L15'>  15         <b>function</b> <a href='../R/72.html' title='Multiple refered from 4 places.'>GeoIP_to_IPv4</a>($<a href='../Y/317.html' title='Multiple used in 22 places.'>ip</a>)
<a name='L16'>  16         <font color='blue'>{</font>
<a name='L17'>  17                 <b>if</b> (!<a href='../Y/324.html' title='Multiple used in 225 places.'>is_numeric</a>($<a href='../Y/317.html' title='Multiple used in 22 places.'>ip</a>)) <b>return</b> 0;
<a name='L18'>  18                 <a href='../S/20.html#L18' title='Used at 18 in functions_ip.php.'>settype</a>($<a href='../Y/317.html' title='Multiple used in 22 places.'>ip</a>, 'float');
<a name='L19'>  19 
<a name='L20'>  20                 $<a href='../Y/684.html' title='Multiple used in 3 places.'>w</a> = ($<a href='../Y/317.html' title='Multiple used in 22 places.'>ip</a> / 16777216) % 256;
<a name='L21'>  21                 $<a href='../Y/696.html' title='Multiple used in 9 places.'>x</a> = ($<a href='../Y/317.html' title='Multiple used in 22 places.'>ip</a> / 65536   ) % 256;
<a name='L22'>  22                 $<a href='../Y/702.html' title='Multiple used in 5 places.'>y</a> = ($<a href='../Y/317.html' title='Multiple used in 22 places.'>ip</a> / 256     ) % 256;
<a name='L23'>  23                 $<a href='../Y/705.html' title='Multiple used in 3 places.'>z</a> = ($<a href='../Y/317.html' title='Multiple used in 22 places.'>ip</a>           ) % 256;
<a name='L24'>  24 
<a name='L25'>  25                 <b>if</b> ($<a href='../Y/705.html' title='Multiple used in 3 places.'>z</a> &lt; 0) $<a href='../Y/705.html' title='Multiple used in 3 places.'>z</a>+=256;
<a name='L26'>  26 
<a name='L27'>  27                 <b>return</b> $<a href='../Y/684.html' title='Multiple used in 3 places.'>w</a>.'.'.$<a href='../Y/696.html' title='Multiple used in 9 places.'>x</a>.'.'.$<a href='../Y/702.html' title='Multiple used in 5 places.'>y</a>.'.'.$<a href='../Y/705.html' title='Multiple used in 3 places.'>z</a>;
<a name='L28'>  28         <font color='blue'>}</font>
<a name='L29'>  29 
<a name='L30'>  30         <b>function</b> IgnoredIPRange($<a href='../Y/320.html' title='Multiple used in 12 places.'>ipu</a>)
<a name='L31'>  31         <font color='blue'>{</font>
<a name='L32'>  32                 <i><font color='green'>//These are ignored IP's, they dont belong to any country and cannot be used together with the geoip database.</font></i>
<a name='L33'>  33                 <i><font color='green'>//List of ignored IP ranges are from: http://en.wikipedia.org/wiki/Classful_network, 'Special ranges' section</font></i>
<a name='L34'>  34                 <b>if</b> ($<a href='../Y/320.html' title='Multiple used in 12 places.'>ipu</a> &lt;= 16777215) <b>return</b> <b>true</b>;                                                                                                                              <i><font color='green'>//0.0.0.0     - 0.255.255.255</font></i>
<a name='L35'>  35                 <b>if</b> (($<a href='../Y/320.html' title='Multiple used in 12 places.'>ipu</a> &gt;= 167772160) &amp;&amp; ($<a href='../Y/320.html' title='Multiple used in 12 places.'>ipu</a> &lt;= 184549375)) <b>return</b> <b>true</b>;                    <i><font color='green'>//10.0.0.0    - 10.255.255.255</font></i>
<a name='L36'>  36                 <b>if</b> (($<a href='../Y/320.html' title='Multiple used in 12 places.'>ipu</a> &gt;= 2130706433) &amp;&amp; ($<a href='../Y/320.html' title='Multiple used in 12 places.'>ipu</a> &lt;= 2147483647)) <b>return</b> <b>true</b>;          <i><font color='green'>//127.0.0.0   - 127.255.255.255</font></i>
<a name='L37'>  37                 <b>if</b> (($<a href='../Y/320.html' title='Multiple used in 12 places.'>ipu</a> &gt;= 2851995648) &amp;&amp; ($<a href='../Y/320.html' title='Multiple used in 12 places.'>ipu</a> &lt;= 2852061183)) <b>return</b> <b>true</b>;          <i><font color='green'>//169.254.0.0 - 169.254.255.255</font></i>
<a name='L38'>  38                 <b>if</b> (($<a href='../Y/320.html' title='Multiple used in 12 places.'>ipu</a> &gt;= 2886729728) &amp;&amp; ($<a href='../Y/320.html' title='Multiple used in 12 places.'>ipu</a> &lt;= 2887778303)) <b>return</b> <b>true</b>;          <i><font color='green'>//172.16.0.0  - 172.31.255.255</font></i>
<a name='L39'>  39                 <b>if</b> (($<a href='../Y/320.html' title='Multiple used in 12 places.'>ipu</a> &gt;= 3221225984) &amp;&amp; ($<a href='../Y/320.html' title='Multiple used in 12 places.'>ipu</a> &lt;= 3221226239)) <b>return</b> <b>true</b>;          <i><font color='green'>//192.0.2.0   - 192.0.2.255</font></i>
<a name='L40'>  40                 <b>if</b> (($<a href='../Y/320.html' title='Multiple used in 12 places.'>ipu</a> &gt;= 3227017984) &amp;&amp; ($<a href='../Y/320.html' title='Multiple used in 12 places.'>ipu</a> &lt;= 3227018239)) <b>return</b> <b>true</b>;          <i><font color='green'>//192.88.99.0 - 192.88.99.255</font></i>
<a name='L41'>  41                 <b>if</b> (($<a href='../Y/320.html' title='Multiple used in 12 places.'>ipu</a> &gt;= 3232235521) &amp;&amp; ($<a href='../Y/320.html' title='Multiple used in 12 places.'>ipu</a> &lt;= 3232301055)) <b>return</b> <b>true</b>;          <i><font color='green'>//192.168.0.1 - 192.168.255.255</font></i>
<a name='L42'>  42                 <b>if</b> (($<a href='../Y/320.html' title='Multiple used in 12 places.'>ipu</a> &gt;= 3323068416) &amp;&amp; ($<a href='../Y/320.html' title='Multiple used in 12 places.'>ipu</a> &lt;= 3323199487)) <b>return</b> <b>true</b>;          <i><font color='green'>//198.18.0.0  - 198.19.255.255</font></i>
<a name='L43'>  43                 <b>if</b> (($<a href='../Y/320.html' title='Multiple used in 12 places.'>ipu</a> &gt;= 3758096384) &amp;&amp; ($<a href='../Y/320.html' title='Multiple used in 12 places.'>ipu</a> &lt;= 4026531839)) <b>return</b> <b>true</b>;          <i><font color='green'>//224.0.0.0   - 239.255.255.255</font></i>
<a name='L44'>  44                 <b>if</b> ($<a href='../Y/320.html' title='Multiple used in 12 places.'>ipu</a> &gt;= 4026531840) <b>return</b> <b>true</b>;                                                                                                                    <i><font color='green'>//240.0.0.0   - 255.255.255.255</font></i>
<a name='L45'>  45 
<a name='L46'>  46                 <b>return</b> <b>false</b>; <i><font color='green'>//IP is not ignored</font></i>
<a name='L47'>  47         <font color='blue'>}</font>
<a name='L48'>  48 
<a name='L49'>  49 ?&gt;
</pre>
<hr>
<a name='BOTTOM'>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L3'>[^]</a><a href='#L30'>[v]</a><a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
</body>
</html>
