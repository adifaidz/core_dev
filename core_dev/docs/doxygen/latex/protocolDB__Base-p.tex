\section{$<$ DB\_\-Base $>$ Protocol Reference}
\label{protocolDB__Base-p}\index{DB_Base-p@{DB\_\-Base-p}}
\subsection*{Public Member Functions}
\begin{CompactItemize}
\item 
{\bf escape} (\$q)
\item 
{\bf query} (\$q)
\item 
{\bf delete} (\$q)
\item 
{\bf update} (\$q)
\item 
{\bf insert} (\$q)
\item 
{\bf replace} (\$q)
\item 
{\bf getArray} (\$q)
\item 
{\bf getMappedArray} (\$q)
\item 
{\bf getNumArray} (\$q)
\item 
{\bf getOneRow} (\$q)
\item 
{\bf getOneItem} (\$q, \$num=false)
\item 
{\bf connect} ()
\item 
{\bf showDriverStatus} ()
\item 
{\bf \_\-\_\-construct} (array \$settings)
\item 
{\bf showConfig} ()
\item 
{\bf profileConnect} (\$time\_\-started)
\item 
{\bf profileQuery} (\$time\_\-started, \$q)
\item 
{\bf profileError} (\$time\_\-started, \$q, \$err)
\item 
{\bf showProfile} (\$pageload\_\-start=0)
\item 
{\bf showEvents} ()
\end{CompactItemize}
\subsection*{Public Attributes}
\begin{CompactItemize}
\item 
{\bf \$db\_\-handle} = false\label{protocolDB__Base-p_253c88caa7a38684b27c44bc4064c821}

\item 
{\bf \$db\_\-driver} = ''\label{protocolDB__Base-p_f7cc552d9e41abfef82b5d6688935714}

\item 
{\bf \$dialect} = ''\label{protocolDB__Base-p_0d5c7b175028440e1466586cf03cb11d}

\item 
{\bf \$server\_\-version} = ''\label{protocolDB__Base-p_a99a3f6d41364064b57f67ee40b97fd1}

\item 
{\bf \$client\_\-version} = ''\label{protocolDB__Base-p_4c7cf42dbff62065c5b5acc6d8e0bdb7}

\end{CompactItemize}
\subsection*{Protected Attributes}
\begin{CompactItemize}
\item 
{\bf \$host} = ''\label{protocolDB__Base-p_ca95ca05d3a82d7cdfa7df3108f23173}

\item 
{\bf \$port} = 0\label{protocolDB__Base-p_230adeded1094a16331a2196dae7c0cb}

\item 
{\bf \$username} = ''\label{protocolDB__Base-p_a5eabff2dedadf9c88ba298817b31640}

\item 
{\bf \$password} = ''\label{protocolDB__Base-p_f5ac2728a90f6e1f674e1a709c8f1664}

\item 
{\bf \$database} = ''\label{protocolDB__Base-p_7c0d9694a598fbaf6b4786747a0430df}

\item 
{\bf \$charset} = 'utf8'\label{protocolDB__Base-p_c683f31c119eb65c10a62bbba3988599}

\item 
{\bf \$connect\_\-time} = 0\label{protocolDB__Base-p_1376bcb3582ad9d5a5c4b8c0073c0ae3}

\item 
{\bf \$time\_\-spent} = array()\label{protocolDB__Base-p_fb25facc5f6de7da3f7984c22ed0ee64}

\item 
{\bf \$queries\_\-cnt} = 0\label{protocolDB__Base-p_52ab253ae74762134c2c37e17a274c7d}

\item 
{\bf \$queries} = array()\label{protocolDB__Base-p_a37acf8e3d15c71d6c768b913d38f745}

\item 
{\bf \$query\_\-error} = array()\label{protocolDB__Base-p_62a33a7d59463f25b75c14df58564924}

\end{CompactItemize}


\subsection{Detailed Description}
SQL DB Base class

The SQL profiler features additional PHP profiling if the xdebug extension is loaded

\begin{Desc}
\item[Author:]Martin Lindhe, 2007 \end{Desc}


Definition at line 10 of file class.DB\_\-Base.php.

\subsection{Constructor \& Destructor Documentation}
\index{DB_Base-p@{DB\_\-Base-p}!__construct@{\_\-\_\-construct}}
\index{__construct@{\_\-\_\-construct}!DB_Base-p@{DB\_\-Base-p}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf DB\_\-Base}-p::\_\-\_\-construct (array \$ {\em settings})}\label{protocolDB__Base-p_de3b9ab3b03feb729f1c39da40e2da79}


Constructor. Initializes db driver and connects to the database \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$settings}]is array with DB-specific settings \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]nothing \end{Desc}


Definition at line 151 of file class.DB\_\-Base.php.

\subsection{Member Function Documentation}
\index{DB_Base-p@{DB\_\-Base-p}!escape@{escape}}
\index{escape@{escape}!DB_Base-p@{DB\_\-Base-p}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf DB\_\-Base}-p::escape (\$ {\em q})\hspace{0.3cm}{\tt  [abstract]}}\label{protocolDB__Base-p_1abb04e278dfa25cb1fd6d00be4eccf6}


Escapes a string for use in queries \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$q}]is the query to escape \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]the escaped string, taking db-connection locale into account \end{Desc}
\index{DB_Base-p@{DB\_\-Base-p}!query@{query}}
\index{query@{query}!DB_Base-p@{DB\_\-Base-p}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf DB\_\-Base}-p::query (\$ {\em q})\hspace{0.3cm}{\tt  [abstract]}}\label{protocolDB__Base-p_e7064a7ce0b258d4145972e8545361ca}


Performs a general query. Should only be used with special commands that don't return anything. Use the other functions for common SQL operations such as select, insert, update, delete Example: LOCK TABLES \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$q}]is the query to execute \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]the result of the query, if anything \end{Desc}
\index{DB_Base-p@{DB\_\-Base-p}!delete@{delete}}
\index{delete@{delete}!DB_Base-p@{DB\_\-Base-p}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf DB\_\-Base}-p::delete (\$ {\em q})\hspace{0.3cm}{\tt  [abstract]}}\label{protocolDB__Base-p_be325d11ff1dba930f7417aab13aee29}


Performs a query that does a DELETE Example: DELETE FROM t WHERE id=1 \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$q}]is the query to execute \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]the number of rows affected \end{Desc}
\index{DB_Base-p@{DB\_\-Base-p}!update@{update}}
\index{update@{update}!DB_Base-p@{DB\_\-Base-p}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf DB\_\-Base}-p::update (\$ {\em q})}\label{protocolDB__Base-p_68bdb2a90591b8564dc88613007d72de}


Performs a query that does a UPDATE Example: UPDATE t SET n=1 \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$q}]is the query to execute \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]the number of rows affected \end{Desc}


Definition at line 46 of file class.DB\_\-Base.php.\index{DB_Base-p@{DB\_\-Base-p}!insert@{insert}}
\index{insert@{insert}!DB_Base-p@{DB\_\-Base-p}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf DB\_\-Base}-p::insert (\$ {\em q})\hspace{0.3cm}{\tt  [abstract]}}\label{protocolDB__Base-p_e757644b91b100f945d8862940b049cd}


Performs a query that does a INSERT \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$q}]is the query to execute \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]insert\_\-id (autoincrement primary key of table) \end{Desc}
\index{DB_Base-p@{DB\_\-Base-p}!replace@{replace}}
\index{replace@{replace}!DB_Base-p@{DB\_\-Base-p}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf DB\_\-Base}-p::replace (\$ {\em q})}\label{protocolDB__Base-p_9828857699ad358a6057e8f34f5a0f49}


Performs a query that does a REPLACE \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$q}]is the query to execute \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]the number of rows affected \end{Desc}


Definition at line 60 of file class.DB\_\-Base.php.\index{DB_Base-p@{DB\_\-Base-p}!getArray@{getArray}}
\index{getArray@{getArray}!DB_Base-p@{DB\_\-Base-p}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf DB\_\-Base}-p::getArray (\$ {\em q})\hspace{0.3cm}{\tt  [abstract]}}\label{protocolDB__Base-p_f17c44d57b6e3292c2e5771b51a026f1}


Selects data Example: SELECT $\ast$ FROM t \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$q}]is the query to execute \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]an array with the results, with columns as array indexes \end{Desc}
\index{DB_Base-p@{DB\_\-Base-p}!getMappedArray@{getMappedArray}}
\index{getMappedArray@{getMappedArray}!DB_Base-p@{DB\_\-Base-p}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf DB\_\-Base}-p::getMappedArray (\$ {\em q})\hspace{0.3cm}{\tt  [abstract]}}\label{protocolDB__Base-p_4542b6047cb056c25c1c39e09948f1a3}


Selects data Example: SHOW VARIABLES LIKE \char`\"{}\%cache\%\char`\"{} \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$q}]is the query to execute \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]an array with the results mapped as key =$>$ value \end{Desc}
\index{DB_Base-p@{DB\_\-Base-p}!getNumArray@{getNumArray}}
\index{getNumArray@{getNumArray}!DB_Base-p@{DB\_\-Base-p}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf DB\_\-Base}-p::getNumArray (\$ {\em q})\hspace{0.3cm}{\tt  [abstract]}}\label{protocolDB__Base-p_0673f5a50e850ffd91963b3d0435e75a}


Selects data Example: SELECT textRow FROM t \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$q}]is the query to execute \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]an 1-dimensional array with a numeric index \end{Desc}
\index{DB_Base-p@{DB\_\-Base-p}!getOneRow@{getOneRow}}
\index{getOneRow@{getOneRow}!DB_Base-p@{DB\_\-Base-p}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf DB\_\-Base}-p::getOneRow (\$ {\em q})\hspace{0.3cm}{\tt  [abstract]}}\label{protocolDB__Base-p_9f479057267a67da1265dd4c6323d186}


Selects one row of data Example: SELECT $\ast$ FROM t WHERE id=1 (where id is distinct) \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$q}]is the query to execute \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]one row-result with columns as array indexes \end{Desc}
\index{DB_Base-p@{DB\_\-Base-p}!getOneItem@{getOneItem}}
\index{getOneItem@{getOneItem}!DB_Base-p@{DB\_\-Base-p}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf DB\_\-Base}-p::getOneItem (\$ {\em q}, \$ {\em num} = {\tt false})\hspace{0.3cm}{\tt  [abstract]}}\label{protocolDB__Base-p_5b10321095bce058a25fa19f18de2c03}


Selects one column of one row of data Example: SELECT a FROM t WHERE id=1 (where id is distinct) \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$q}]is the query to execute \item[{\em \$num}]set to true if you expect a numeric response (to return 0 on failure rather than boolean false) \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]one column-result only \end{Desc}
\index{DB_Base-p@{DB\_\-Base-p}!connect@{connect}}
\index{connect@{connect}!DB_Base-p@{DB\_\-Base-p}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf DB\_\-Base}-p::connect ()\hspace{0.3cm}{\tt  [abstract]}}\label{protocolDB__Base-p_bc1d1db037ff1a9a097ce99d48f0f46d}


Creates a database connection \begin{Desc}
\item[Returns:]nothing \end{Desc}
\index{DB_Base-p@{DB\_\-Base-p}!showDriverStatus@{showDriverStatus}}
\index{showDriverStatus@{showDriverStatus}!DB_Base-p@{DB\_\-Base-p}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf DB\_\-Base}-p::showDriverStatus ()\hspace{0.3cm}{\tt  [abstract]}}\label{protocolDB__Base-p_04c282dd4a3f1f030ed9e0a13da1d85d}


Shows driver-specific settings + status \begin{Desc}
\item[Returns:]nothing \end{Desc}
\index{DB_Base-p@{DB\_\-Base-p}!showConfig@{showConfig}}
\index{showConfig@{showConfig}!DB_Base-p@{DB\_\-Base-p}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf DB\_\-Base}-p::showConfig ()}\label{protocolDB__Base-p_463552aa9409fd41d6fd2093f06f52e5}


Shows current settings \begin{Desc}
\item[Returns:]nothing \end{Desc}


Definition at line 167 of file class.DB\_\-Base.php.\index{DB_Base-p@{DB\_\-Base-p}!profileConnect@{profileConnect}}
\index{profileConnect@{profileConnect}!DB_Base-p@{DB\_\-Base-p}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf DB\_\-Base}-p::profileConnect (\$ {\em time\_\-started})}\label{protocolDB__Base-p_a9a2c1b3fe46aa0ae3ae1dbcd7ccaf76}


Stores profiling information about connect time to database \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$time\_\-started}]is the microtime of when the script execution started \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]nothing \end{Desc}


Definition at line 228 of file class.DB\_\-Base.php.\index{DB_Base-p@{DB\_\-Base-p}!profileQuery@{profileQuery}}
\index{profileQuery@{profileQuery}!DB_Base-p@{DB\_\-Base-p}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf DB\_\-Base}-p::profileQuery (\$ {\em time\_\-started}, \$ {\em q})}\label{protocolDB__Base-p_208dae69c6795556b467b12c782f04d4}


Stores profiling information about query execution time \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$time\_\-started}]is microtime from when the execution of this query begun \item[{\em \$q}]is the query being profiled \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]nothing \end{Desc}


Definition at line 239 of file class.DB\_\-Base.php.\index{DB_Base-p@{DB\_\-Base-p}!profileError@{profileError}}
\index{profileError@{profileError}!DB_Base-p@{DB\_\-Base-p}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf DB\_\-Base}-p::profileError (\$ {\em time\_\-started}, \$ {\em q}, \$ {\em err})}\label{protocolDB__Base-p_bac0f01244c58053bda07dc9005dbc13}


Stores profiling information about a failed query execution \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$time\_\-started}]is microtime from when the execution of this query begun \item[{\em \$q}]is the query being profiled \item[{\em \$err}]is the error message returned by the db driver in use \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]nothing \end{Desc}


Definition at line 253 of file class.DB\_\-Base.php.\index{DB_Base-p@{DB\_\-Base-p}!showProfile@{showProfile}}
\index{showProfile@{showProfile}!DB_Base-p@{DB\_\-Base-p}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf DB\_\-Base}-p::showProfile (\$ {\em pageload\_\-start} = {\tt 0})}\label{protocolDB__Base-p_9f2a2a4e8709b73121f761ca378b74f2}


Shows SQL query profiling information \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em \$pageload\_\-start}]is the microtime of when the script execution started \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]nothing \end{Desc}


Definition at line 264 of file class.DB\_\-Base.php.\index{DB_Base-p@{DB\_\-Base-p}!showEvents@{showEvents}}
\index{showEvents@{showEvents}!DB_Base-p@{DB\_\-Base-p}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf DB\_\-Base}-p::showEvents ()}\label{protocolDB__Base-p_82c42d41becb749cc2b3f817983529b0}


Displays all events from the event log \begin{Desc}
\item[Returns:]nothing \end{Desc}


Definition at line 336 of file class.DB\_\-Base.php.

The documentation for this protocol was generated from the following file:\begin{CompactItemize}
\item 
class.DB\_\-Base.php\end{CompactItemize}
