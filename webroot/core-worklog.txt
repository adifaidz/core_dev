--------------[[todo]]--------------
	platform change:
		- gör så ajax-filerna funkar som file.php
		
	wiki rewrite:
		- implementera stöd för "talk" page _eller_ comments
		- gör ny toppmeny med div & ul & li osv, bort med tables
		
		- visa history för en vanlig user på låst wiki
		- wiki: [[search:url|titel]] taggar funkar inte. firefox genererar nåt fel. kanske ej går att skicka på variabler så!??!!
		- wiki: logga history för wiki file deletes via ajax

	file area:

		upload:
			* visa upload progress med ajax callback (kräver nån custom apache modul tror jag)
			
		bildvisare:
			* rotera
			* förminska / förstora
			* förhandsgranska
			* spara

		- visa en papperskorg, kunna drag-droppa en fil och släppa i papperskorgen (ta bort med ajax)
		- ändra visningsordningen på bilderna genom att dra & släppa dom + ajax save
		

	misc:
		- adblock: ruleset.php / admin_reports.php: jobba mer på css:en för att få till listan som det var tänkt
		- konvertera zine!
  	- Gör en generell vote-modul som implementerar en ajax-gadget där man kan rösta på ett objekt, tillåt flera typer t.ex VOTE_NEWSITEM, VOTE_BLOGPOST
		- Konvertera functions_categories, functions_comments + några till användbara moduler till klasser
  	- Försök bygga en generell RSS-modul som kan återanvändas av t.ex news-modulen
  	- Försök bygga så mycket logik som möjligt i stored procedures

--------------[[changelog]]--------------
2007.04.14:
	- wiki edit funkar för ej inloggade
	- gjort ett script som gör typ detta regelbundet, med AHK:
		mysqldump --all-databases --no-data --compact > e:/devel/webroot/sql/db-structure.sql
	- core: kan nu skapa nya users från login grejen
	- wiki: implementerat paging för wiki history
	- core: gjorde en generell URLadd() funktion för att kunna klistra på variabler till aktuell url, tog bort wikiURLadd()
	- core: flyttat över /ajax/*.php till /core/ajax_*.php
	- files: om file-upload & thumbs ej finns, skapas dessa. wip detta funkar inge bra i linux
	- files: skapar .htaccess med "deny all" & tom index.html i dessa kataloger automatiskt
	- files: ny config setting: allow anon uploads, $files->anon_uploads bool
	- files: admins kan nu ta bort andras uppladdade filer
	- konverterade svnhosting koden
	- konverterade ajax_chat koden!
		
		
2007.04.13:
	- gjort ordentliga .htaccess så man bara stänger av directory listing


2007.04.12:
	- core: fixade en long-standing bugg i $db->log() kommandot
	- adblock ruleset.php fixad så den funkar igen, efter otestade ändringar från jobbet
	- adblock: tömde gfx/ katalogen på allt utom loggan
	- core: fixat lite med ajax.js & /ajax/*.php filerna
	- core: gjort icon_locked & icon_unlocked ikoner
	- core: db driver buggfixar vid några error-paths vilket gör att alla sql fel nu fångas av profilern
	- wiki: admins kan nu låsa en wiki, så att inte besökare/normala users kan redigera den
	- core revisions: ny kolumn för revisions för att markera: TEXT_CHANGED, FILE_UPLOADED, FILE_DELETED, WIKI_LOCKED, WIKI_UNLOCKED
	- wiki: loggar revisions för wiki lock, wiki unlock, file upload
	- revisions: tog hela history-koden från wiki till en separat funktion som e _generell_ till functions_revisions.php
	- revisions: implementerat flera typer av entries i revision-loggen, så nu visas det som revisions när den låses/låses upp, och fil laddas upp
	- core: löste problemet med addressering till ajax-funktioner i /ajax/ och /core/ genom funktionen getProjectPath()
		som skapar en parameter att skicka med alla genererade url:s mot dessa. getProjectPath() returnerar inget om projektet
		körs från rotkatalgogen i webbservern (löst i /core/file.php)
	- files: renamade FILETYPE_NORMAL_UPLOAD till FILETYPE_FILEAREA_UPLOAD



2007.04.11:
	- adblock: plockade ut paging från ruleset.php till functions_general.php makePager() funktion
	- adblock: gjorde om ruleset.php, admin_reports.php tabellhack till div & nya css klasser:
				_row_container, _row_col1, _row_col2, osv..
				Idén är att ha färdig "standard" css mall för att göra en lista med 2 eller fler kolumner i css
	- adblock: fixade så report_site.php funkar igen
	- adblock: bort med js/adblock.js, gjorde en generell "add search engine" js-funktion i /js/functions.js
	- file browser details: visa vem som laddade upp filen, och när med ett ajax-anrop /ajax/fileinfo.php
	- gjorde en ajax-loading animation reusable i /layout/ajax_loading_layer.html
	- visar thumbnails på oanvända uppladdade bilder i wiki:edit vyn
	- class.DB_MySQLi & class.DB_MySQL: istället för att returnera tomma arrayer etc vid fel, loggar fel först med db profilern!
	- wiki kommando: [[link:url|titel]] url-länk, för att stänga av <a> taggen /helt förbjuda html
	- wiki kommando: [[search:url|titel]] för att känka in quicksearch-moduler i text, wip-javascriptet funkar inte riktigt


2007.04.10:
	- wiki: kan nu länka andra wikis i text, med [[wiki:Name|title]]
	- åter-implementerat stöd för files, genom Files klassen


2007.04.08:
	- konverterat allt (?) till att använda nya "functions"
	- övergått till nya settings funktionerna
	- tog bort session ID som parameter från alla funktioner, använder $session->id istället
	- gjorde en sida wiki.php?View:Help, istället för help.php, about.php, contribute.php, subscribe.php
	- gjorde en generell tblRevisions / functions_revisions.php och använd den istället för tblInfoFieldHistory
	- wiki: config $config['wiki] ...
	- wiki: renamade allt "infofield" till wiki


2007.04.04:
	- konverterat det mesta från HTML till XHTML 1.0

2006.11.27:
	- fixade så att alla kommentarer visas till en regel, var en bugg i sql-querien pga ändringen till DATETIME


2006.11.20:
	- userId -> smallint i databasen
	- settings: sparar ändring av email
	- rensade bort oanvända includes i config.php
	- fixade firefox search engine så den funkar med ff 2.0 (krävde absolut url i filterset_search.src)
	- highlightar sökfrasen i matchande träffar i ruleset.php-sökning

2006.11.16:
	- konverterade includes till att använda samma include_all.php osv som andra projekt, och städade upp config.php,
		resultat eventuellt marginellt snabbare sidladdning pga färre includes

2006.11.15:
	- gjorde om sql-debug footern till en generell funktion för att återanväda i andra projekt
	- fixade tblUsers, tblComments, tblLogs, tblAdblockRules att använda DATETIME för att fungera med databasförändringar
	- fixat så felaktiga sql's visar en error ikon i debugloggen
	- tog bort hostname lookups på admin_reports.php: speedup

2006.11.07:
	- lade till sql time i layersql (debug)
	- fixade download.php att inte reagera på alla post-requests (nu går det att spara ändringar i infofields på download.php)
	- lade till $_SESSION['listlimit'], istället för $config['setting_listlimit'], fixade upp så att inställningen koms ihåg genom sessionen
	- tog bort url-redirekt funktionen från logout.php, så att man istället hamnar på startsidan vid utloggning
	- snyggade till css'en för footerns debug sql-view lite
	- droppade tblBugReports, används ej
	- fixade ruleset.php html så att formulär inte nestas, så flera formulär på sidan fungerar korrekt (infofield funkar nu där)
	- design_head.php: flyttade över alla js-funktioner till js/functions.js
	- tog bort file_show_image.php
	- design_head.php: tog bort browser width & height detection kod
	- design_head.php, config.php: tog bort $config['login_encrypted'], och möjlighet att logga in med sha1-kodat password
	- tog bort js/md1.js, js/sha1.js
	- optimerade functions_infofields.php getInfoField() sql när ett infofield bara ska visas

2006.11.06:
	- download.php: ändrade till att omgenerera cache i samma filnamn om det är >4h senast modifierad,
		har ingen nytta av nya filer och sparar ändringar med svn
	- nameLink(): det stod "Generated by inget nickname", fixat
	- tog bort en massa irrelevanta .php-filer
	- databasen: raderade lokala kopior av tblGeoIP, tblGeoIPCities, tblGeoIPCityNames
	- infofields kan nu ha enkodade länkar, implementerade med en site-setting $config['infofield']['allow_html']
	- fixade positionen för inloggrutan som visas i utloggat läge
	- newrule.php: tog bort "make this comment private" som default
	- contribute.php: flyttade bort add-searchengine funktionen till inc/functions.js (ny fil)
	- flyttade all js till js/*, all css till css/*

2006.10.09:
	- download.php: ändrade till att bara generera 2 cache-revisioner per dag
	- admin_events.php: visar inte location för LAN-ip'n (döljer "LAN, LAN")
	- errorhelp.php: cleanup + visar förklaring till "session timeout"
	- locales_*.php: använder locales från ../site_functions
